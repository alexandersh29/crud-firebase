{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\alexa\\\\Documents\\\\ING 2\\\\9\\\\Paulina\\\\Tercer PARCIAL\\\\4to Ejercicio\\\\crudreact\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport './App.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { isEmpty, size } from 'lodash';\nimport { addDocument, deleteDocument, getCollection, updateDocument } from './actions';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [task, setTask] = useState(\"\");\n  const [tasks, setTasks] = useState([]);\n  const [editMode, setEditMode] = useState(false);\n  const [id, setId] = useState(\"\");\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    (async () => {\n      const result = await getCollection(\"tasks\");\n      console.log(result);\n\n      if (result.statusResponse) {\n        setTasks(result.data);\n      }\n    })();\n  }, []);\n\n  const addTask = async e => {\n    e.preventDefault();\n\n    if (isEmpty(task)) {\n      console.log(\"Task vacío\");\n      return;\n    }\n\n    const result = await addDocument(\"tasks\", {\n      name: task\n    });\n\n    if (!result.statusResponse) {\n      setError(result.error);\n      return;\n    }\n    /*\n    const newTask={\n      id:shortid.generate(),\n      name:task\n    }*/\n\n\n    setTasks([...tasks, {\n      id: result.data.id,\n      name: task\n    }]);\n    setTask(\"\");\n  };\n\n  const saveTask = async e => {\n    e.preventDefault();\n\n    if (isEmpty(task)) {\n      console.log(\"Task vacío\");\n      return;\n    }\n\n    const result = await updateDocument(\"tasks\", id, {\n      name: task\n    });\n\n    if (!result.statusResponse) {\n      setError(result.error);\n      return;\n    }\n\n    const editedTasks = tasks.map(item => item.id === id ? {\n      id,\n      name: task\n    } : item);\n    setTasks(editedTasks);\n    setEditMode(false);\n    setTask(\"\");\n    setId(\"\");\n  };\n\n  const deleteTask = async id => {\n    const result = await deleteDocument(\"tasks\", id);\n\n    if (!result.statusResponse) {\n      setError(result.error);\n      return;\n    }\n\n    const filteredTasks = tasks.filter(task => task.id !== id);\n    setTasks(filteredTasks);\n  };\n\n  const editTask = tarea => {\n    setTask(tarea.name);\n    setEditMode(true);\n    setId(tarea.id);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container mt-5\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Tareas\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row align-items-start\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"text-center\",\n            children: \"Actividades\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 10\n          }, this), size(tasks) === 0 ? /*#__PURE__*/_jsxDEV(\"h5\", {\n            className: \"text-center\",\n            children: \"A\\xFAn no hay tareas\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 12\n          }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"list-group \",\n            children: tasks.map(task => /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"list-group-item\",\n              children: [task.name, /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-danger btn-sm float-right mx-2\",\n                onClick: () => deleteTask(task.id),\n                children: \"Eliminar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-warning btn-sm float-right\",\n                onClick: () => editTask(task),\n                children: \"Editar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 11\n              }, this)]\n            }, task.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 11\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 12\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"text-center\",\n            children: editMode ? \"Modificar tarea\" : \"Agregar Tarea\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: editMode ? saveTask : addTask,\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control mb-2\",\n              placeholder: \"Ingresar una tarea...\",\n              onChange: text => setTask(text.target.value),\n              value: task\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: editMode ? \"btn btn-warning btn-block\" : \"btn btn-dark btn-block\",\n              type: \"submit\",\n              children: [\" \", editMode ? \"Guardar\" : \"Agregar\", \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 8\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 5\n    }, this)\n  }, void 0, false);\n}\n\n_s(App, \"AcEiQgbKmWmLwa6aL8c6WFK087g=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["C:/Users/alexa/Documents/ING 2/9/Paulina/Tercer PARCIAL/4to Ejercicio/crudreact/src/App.js"],"names":["React","useState","useEffect","isEmpty","size","addDocument","deleteDocument","getCollection","updateDocument","App","task","setTask","tasks","setTasks","editMode","setEditMode","id","setId","error","setError","result","console","log","statusResponse","data","addTask","e","preventDefault","name","saveTask","editedTasks","map","item","deleteTask","filteredTasks","filter","editTask","tarea","text","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect} from 'react';\nimport './App.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nimport { isEmpty,size } from 'lodash';\nimport { addDocument, deleteDocument, getCollection, updateDocument } from './actions';\n\n\n\nfunction App () {\n  const [task, setTask]=useState(\"\")\n  const [tasks, setTasks]=useState([])\n  const [editMode,setEditMode]=useState(false)\n  const[id, setId]=useState(\"\")\n  \n  const [error,setError]=useState(null)\n\n  useEffect(()=>{\n  (async ()=>{\n    const result=await getCollection(\"tasks\")\n    console.log(result)\n    if(result.statusResponse){\n      setTasks(result.data)\n    }}) () },[])\n  \n\n  const addTask= async(e)=>{\n    e.preventDefault()\n   if(isEmpty(task)){\n    console.log(\"Task vacío\")\n    return\n   }\n\n   const result =await addDocument(\"tasks\", {name: task})\n  if(!result.statusResponse){\n    setError(result.error)\n    return\n  }\n\n  /*\n  const newTask={\n    id:shortid.generate(),\n    name:task\n  }*/\n\n   setTasks([...tasks,{id:result.data.id, name:task}])\n   setTask(\"\")\n  }\n\n  const saveTask=async (e)=>{\n    e.preventDefault()\n   if(isEmpty(task)){\n    console.log(\"Task vacío\")\n    return\n   }\n\nconst result=await updateDocument(\"tasks\",id, {name:task})\nif(!result.statusResponse){\n  setError(result.error)\n  return\n}\n\n   const editedTasks=tasks.map(item=> item.id===id ? {id, name: task}:item)\n   setTasks(editedTasks)\n   setEditMode(false)\n   setTask(\"\")\n   setId(\"\")\n  \n  }\n\n  const deleteTask= async (id)=>{\n    const result=await deleteDocument(\"tasks\",id)\n    if(!result.statusResponse)\n    {\n      setError(result.error)\n      return\n    }\n\n    const filteredTasks=tasks.filter(task=>task.id !==id)\n    setTasks(filteredTasks)\n    }\n \n    const editTask=(tarea)=>{\n      setTask(tarea.name)\n      setEditMode(true)\n      setId(tarea.id)\n      }\n\n  return (\n    <>\n    <div className=\"container mt-5\">\n      <h1>Tareas</h1>\n      <hr/>\n      <div className =\"row align-items-start\">\n        <div className=\"col-8\" >\n         <h4 className=\"text-center\">Actividades</h4>\n          {      \n           size(tasks) ===0 ? (\n           <h5 className=\"text-center\">Aún no hay tareas</h5>\n           ) : (\n           <ul className=\"list-group \">\n           { \n           tasks.map((task)=>(\n          <li className=\"list-group-item\" key={task.id}>\n          {task.name}\n          <button \n          className=\"btn btn-danger btn-sm float-right mx-2\"\n          onClick={()=>deleteTask(task.id)}\n          >Eliminar</button>\n          <button className=\"btn btn-warning btn-sm float-right\"\n           onClick={()=>editTask(task)}>\n            Editar\n          </button>\n          </li> \n          ))\n          }\n      </ul>\n      )    \n         }\n         </div>\n       \n       <div className=\"col-4\">\n       <h4 className=\"text-center\">{editMode ? \"Modificar tarea\": \"Agregar Tarea\"}</h4>\n       <form onSubmit={editMode ? saveTask : addTask}>\n        <input \n        type=\"text\" \n        className=\"form-control mb-2\"\n        placeholder=\"Ingresar una tarea...\"\n        onChange={(text)=>setTask(text.target.value)}\n        value={task}\n        />\n        <button className={editMode ? \"btn btn-warning btn-block\" :\"btn btn-dark btn-block\"}\n        type=\"submit\"\n        > {editMode ? \"Guardar\" : \"Agregar\"} </button>\n\n      </form>\n    </div>\n   </div>\n    </div>\n     </>\n    )\n    }\nexport default App;\n"]},"metadata":{},"sourceType":"module"}